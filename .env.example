# =============================================================================
# INMOBILIARIA SYSTEM - Environment Configuration
# Level 1 Foundation - Optimized Configuration
# =============================================================================

# -----------------------------------------------------------------------------
# DATABASE (Required)
# -----------------------------------------------------------------------------
# PostgreSQL connection string
# Format: postgresql://user:password@host:port/database
DATABASE_URL=postgresql://app:CHANGE_ME_STRONG_PASSWORD@database:5432/inmobiliaria

# Database name (for docker-compose)
DB_NAME=inmobiliaria
DB_USER=app
DB_PASSWORD=CHANGE_ME_STRONG_PASSWORD

# -----------------------------------------------------------------------------
# CACHE (Optional - falls back to memory cache)
# -----------------------------------------------------------------------------
# Redis/KeyDB connection string
REDIS_URL=redis://cache:6379/0

# -----------------------------------------------------------------------------
# SERVER
# -----------------------------------------------------------------------------
PORT=3000
NODE_ENV=production

# Application version (set by CI/CD)
APP_VERSION=1.0.0

# -----------------------------------------------------------------------------
# SECURITY (Required)
# -----------------------------------------------------------------------------
# JWT secret key - Generate with: openssl rand -base64 32
# MUST be at least 32 characters
JWT_SECRET=CHANGE_ME_GENERATE_WITH_openssl_rand_base64_32

# JWT token expiry settings
JWT_ACCESS_EXPIRY=15m
JWT_REFRESH_DAYS=7

# -----------------------------------------------------------------------------
# CORS
# -----------------------------------------------------------------------------
# Comma-separated list of allowed origins
CORS_ORIGINS=http://localhost:5173,http://localhost:3000

# -----------------------------------------------------------------------------
# FILE STORAGE
# -----------------------------------------------------------------------------
# Directory for uploaded files
UPLOAD_DIR=/app/uploads

# Maximum file size in megabytes
MAX_FILE_SIZE_MB=10

# -----------------------------------------------------------------------------
# RATE LIMITING
# -----------------------------------------------------------------------------
# General rate limit
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX=100

# Stricter auth endpoint rate limit
AUTH_RATE_LIMIT_MAX=10

# -----------------------------------------------------------------------------
# LOGGING
# -----------------------------------------------------------------------------
# Log level: debug | info | warn | error | fatal
LOG_LEVEL=info

# Log format: json (production) | pretty (development)
LOG_FORMAT=json

# -----------------------------------------------------------------------------
# SECURITY HEADERS
# -----------------------------------------------------------------------------
# Enable HTTP Strict Transport Security
ENABLE_HSTS=true

# =============================================================================
# DEVELOPMENT OVERRIDES
# =============================================================================
# Uncomment for local development:
#
# NODE_ENV=development
# LOG_LEVEL=debug
# LOG_FORMAT=pretty
# DATABASE_URL=postgresql://app:devpass123@localhost:5432/inmobiliaria
# REDIS_URL=redis://localhost:6379/0
